# Compilador
CC = gcc

# Nome do executável
TARGET = main.exe

# Caminhos padrão de include e lib do MSYS2 (UCRT)
INCLUDE_PATH = C:/msys64/ucrt64/include
LIB_PATH = C:/msys64/ucrt64/lib

# Flags de compilação
CFLAGS = -Wall -std=c99 -Isrc -I$(INCLUDE_PATH) -Isrc/libs
LIBS = -L$(LIB_PATH) -lraylib -lSDL2main -lSDL2 -lopengl32 -lgdi32 -lwinmm

# Todos os arquivos fonte em src/ e subpastas (Windows)
SRC = $(shell dir /b /s src\*.c)

# Regra padrão: compilar tudo direto
all: $(TARGET)

$(TARGET): $(SRC)
	$(CC) $(SRC) -o $(TARGET) $(CFLAGS) $(LIBS)

# Rodar o programa
run: $(TARGET)
	./$(TARGET)

# Limpar arquivos gerados
clean:
	del $(TARGET) 2>nul

# Comando para rodar:
# mingw32-make -f MakeFileWindows
#comando power shell para make e run
# mingw32-make -f MakeFileWindows && main.exe && mingw32-make -f MakeFileWindows clean

